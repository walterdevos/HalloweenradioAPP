<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Halloween radio</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="skin/jplayer.midnight.black.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.jplayer.min.js"></script>


    <script type="text/javascript">
        //<![CDATA[

        var jPlayerAndroidFix = (function($) {
            var fix = function(id, media, options) {
                this.playFix = false;
                this.init(id, media, options);
            };
            fix.prototype = {
                init: function(id, media, options) {
                    var self = this;

                    // Store the params
                    this.id = id;
                    this.media = media;
                    this.options = options;

                    // Make a jQuery selector of the id, for use by the jPlayer instance.
                    this.player = $(this.id);

                    // Make the ready event to set the media to initiate.
                    this.player.bind($.jPlayer.event.ready, function(event) {
                        // Use this fix's setMedia() method.
                        self.setMedia(self.media);
                    });

                    // Apply Android fixes
                    if($.jPlayer.platform.android) {

                        // Fix playing new media immediately after setMedia.
                        this.player.bind($.jPlayer.event.progress, function(event) {
                            if(self.playFixRequired) {
                                self.playFixRequired = false;

                                // Enable the contols again
                                // self.player.jPlayer('option', 'cssSelectorAncestor', self.cssSelectorAncestor);

                                // Play if required, otherwise it will wait for the normal GUI input.
                                if(self.playFix) {
                                    self.playFix = false;
                                    $(this).jPlayer("play");
                                }
                            }
                        });
                        // Fix missing ended events.
                        this.player.bind($.jPlayer.event.ended, function(event) {
                            if(self.endedFix) {
                                self.endedFix = false;
                                setTimeout(function() {
                                    self.setMedia(self.media);
                                },0);
                                // what if it was looping?
                            }
                        });
                        this.player.bind($.jPlayer.event.pause, function(event) {
                            if(self.endedFix) {
                                var remaining = event.jPlayer.status.duration - event.jPlayer.status.currentTime;
                                if(event.jPlayer.status.currentTime === 0 || remaining < 1) {
                                    // Trigger the ended event from inside jplayer instance.
                                    setTimeout(function() {
                                        self.jPlayer._trigger($.jPlayer.event.ended);
                                    },0);
                                }
                            }
                        });
                    }

                    // Instance jPlayer
                    this.player.jPlayer(this.options);

                    // Store a local copy of the jPlayer instance's object
                    this.jPlayer = this.player.data('jPlayer');

                    // Store the real cssSelectorAncestor being used.
                    this.cssSelectorAncestor = this.player.jPlayer('option', 'cssSelectorAncestor');

                    // Apply Android fixes
                    this.resetAndroid();

                    return this;
                },
                setMedia: function(media) {
                    this.media = media;

                    // Apply Android fixes
                    this.resetAndroid();

                    // Set the media
                    this.player.jPlayer("setMedia", this.media);
                    return this;
                },
                play: function() {
                    // Apply Android fixes
                    if($.jPlayer.platform.android && this.playFixRequired) {
                        // Apply Android play fix, if it is required.
                        this.playFix = true;
                    } else {
                        // Other browsers play it, as does Android if the fix is no longer required.
                        this.player.jPlayer("play");
                    }
                },
                resetAndroid: function() {
                    // Apply Android fixes
                    if($.jPlayer.platform.android) {
                        this.playFix = false;
                        this.playFixRequired = true;
                        this.endedFix = true;
                        // Disable the controls
                        // this.player.jPlayer('option', 'cssSelectorAncestor', '#NeverFoundDisabled');
                    }
                }
            };
            return fix;
        })(jQuery);


        $(document).ready(function () {

            $("#jquery_jplayer_1").jPlayer({
                ready: function (event) {
                    $(this).jPlayer("setMedia", {
                        mp3: "http://listen.radionomy.com/halloweenradionet"
                    });
                },
                swfPath: "/js",
                supplied: "mp3",
                wmode: "window",
                smoothPlayBar: true,
                keyEnabled: true
            });
        });
        //]]>
    </script>
</head>
<body>
<div id="wrapper">
    &nbsp;
    <div id="player_wrapper">
        <div id="player">


            <!-- <audio controls hidden src="http://listen.radionomy.com/halloweenradionet" autoplay="true">audio</audio> -->
            <div id="jquery_jplayer_1" class="jp-jplayer"></div>

            <div id="jp_container_1" class="jp-audio">
                <div class="jp-type-single">
                    <div class="jp-gui jp-interface">
                        <ul class="jp-controls">

                            <!-- comment out any of the following <li>s to remove these buttons -->

                            <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
                            <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
                            <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>

                        </ul>

                        <!-- you can comment out any of the following <div>s too -->

                    </div>

                    <div class="jp-no-solution">
                        <span>Update Required</span>
                        Sorry, but your device seems not to be supported. :-(
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>